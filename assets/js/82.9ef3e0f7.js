(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{223:function(_,e,v){"use strict";v.r(e);var t=v(0),o=Object(t.a)({},function(){var _=this,e=_.$createElement,v=_._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("h3",{attrs:{id:"块结构"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#块结构","aria-hidden":"true"}},[_._v("#")]),_._v(" 块结构")]),_._v(" "),v("p",[_._v("每一个被处理的行都会对树产生影响，行被分析且根据其内容会对树产生的更改，分为以下几种方式：")]),_._v(" "),v("ol",[v("li",[_._v("一个或多个打开的块被关闭。")]),_._v(" "),v("li",[_._v("会在最后一个打开的块中生成新的子块。")]),_._v(" "),v("li",[_._v("会在最后一个打开的块中增加文本内容。")])]),_._v(" "),v("p",[_._v("一旦以这种方式将行合并到树中，就可以将其舍弃，因此可以在流中读取输入。"),v("br"),_._v("\n对于每一行，我们按照以下流程：")]),_._v(" "),v("ol",[v("li",[_._v("首先，我们遍历打开的块，从文档根节点开始，然后通过最后一个子节点下行到最后一个打开的块。 如果块要保持打开，则每个块需要强加一个条件，如果这个块保持打开，那这个条件必须满足。例如，块引用需要一个"),v("code",[_._v(">")]),_._v("字符，段落需要非空行。 在这个阶段，我们可以匹配所有或仅一些打开的块。但是我们还不能关闭不匹配的块，因为我们可能有"),v("a",{attrs:{href:"https://github.github.com/gfm/#lazy-continuation-line",target:"_blank",rel:"noopener noreferrer"}},[_._v("延迟行"),v("OutboundLink")],1),_._v("。")]),_._v(" "),v("li",[_._v("接下来，在消耗现有块的连续标记之后，我们寻找新的起始块（例如，给块引用的"),v("code",[_._v(">")]),_._v("）。 如果我们遇到新的起始块，在将新块创建为最后一个匹配块的子节点之前，我们关闭步骤 1 中无法匹配的所有块。")]),_._v(" "),v("li",[_._v("最后，我们查看该行的其余部分（在块标记之后，如"),v("code",[_._v(">")]),_._v("，列表标记和已经被消耗的缩进）。这是可以合并到最后一个打开块（段落，代码块，标题或原始 HTML）的文本。")])]),_._v(" "),v("p",[_._v("当我们看到段落的行是 "),v("a",{attrs:{href:"https://github.github.com/gfm/#setext-heading-underline",target:"_blank",rel:"noopener noreferrer"}},[_._v("setext 标题下划线"),v("OutboundLink")],1),_._v("时，会形成 Setext 标题。"),v("br"),_._v("\n关闭段落时检测引用链接定义; 解析累积的文本行以查看它们是否以一个或多个引用链接定义开头。 剩下的内容都成为正常段落。"),v("br"),_._v("\n通过考虑下列四行 Markdown 如何生成上面的树，我们可以看到它是如何工作的：")]),_._v(" "),v("pre",[v("code",[_._v("> Lorem ipsum dolor\nsit amet.\n> - Qui *quodsi iracundia*\n> - aliquando id\n")])]),_._v(" "),v("p",[_._v("一开始我们的文档模型只有")]),_._v(" "),v("pre",[v("code",[_._v("-> document\n")])]),_._v(" "),v("p",[_._v("文本第一行，")]),_._v(" "),v("pre",[v("code",[_._v("> Lorem ipsum dolor\n")])]),_._v(" "),v("p",[_._v("致使"),v("code",[_._v("block_quote")]),_._v("块被创建为我们打开的"),v("code",[_._v("document")]),_._v("块的子节点，并且"),v("code",[_._v("paragraph")]),_._v("块被创建为"),v("code",[_._v("block_quote")]),_._v("的子节点。 然后将文本添加到最后一个打开的块，即"),v("code",[_._v("段落")]),_._v("：")]),_._v(" "),v("pre",[v("code",[_._v('-> document\n  -> block_quote\n    -> paragraph\n         "Lorem ipsum dolor"\n')])]),_._v(" "),v("p",[_._v("下一行，")]),_._v(" "),v("pre",[v("code",[_._v("sit amet.\n")])]),_._v(" "),v("p",[_._v("是一个开启的"),v("code",[_._v("段落")]),_._v("的"),v("code",[_._v("延迟行")]),_._v("，所以它被添加到段落的文本中：")]),_._v(" "),v("pre",[v("code",[_._v('-> document\n  -> block_quote\n    -> paragraph\n         "Lorem ipsum dolor\\nsit amet."\n')])]),_._v(" "),v("p",[_._v("第三行，")]),_._v(" "),v("pre",[v("code",[_._v("> - Qui *quodsi iracundia*\n")])]),_._v(" "),v("p",[_._v("使"),v("code",[_._v("paragraph")]),_._v("块被关闭，并且一个新的"),v("code",[_._v("list")]),_._v("块作为"),v("code",[_._v("block_quote")]),_._v("的子节点打开。"),v("code",[_._v("list_item")]),_._v("也被添加为"),v("code",[_._v("list")]),_._v("的子节点，而"),v("code",[_._v("paragraph")]),_._v("被添加为"),v("code",[_._v("list_item")]),_._v("的子节点。然后将文本添加到新的“段落”中：")]),_._v(" "),v("pre",[v("code",[_._v('-> document\n  -> block_quote\n       paragraph\n         "Lorem ipsum dolor\\nsit amet."\n    -> list (type=bullet tight=true bullet_char=-)\n      -> list_item\n        -> paragraph\n             "Qui *quodsi iracundia*"\n')])]),_._v(" "),v("p",[_._v("第四行，")]),_._v(" "),v("pre",[v("code",[_._v("> - aliquando id\n")])]),_._v(" "),v("p",[_._v("使"),v("code",[_._v("list_item")]),_._v("（和它的子节点"),v("code",[_._v("段落")]),_._v("）被关闭，一个新的"),v("code",[_._v("list_item")]),_._v("被打开作为"),v("code",[_._v("list")]),_._v("的子节点。 添加"),v("code",[_._v("paragraph")]),_._v("作为新"),v("code",[_._v("list_item")]),_._v("的子项，以包含文本。 因此，我们获得了最终的树：")]),_._v(" "),v("pre",[v("code",[_._v('-> document\n  -> block_quote\n       paragraph\n         "Lorem ipsum dolor\\nsit amet."\n    -> list (type=bullet tight=true bullet_char=-)\n         list_item\n           paragraph\n             "Qui *quodsi iracundia*"\n      -> list_item\n        -> paragraph\n             "aliquando id"\n')])])])},[],!1,null,null,null);e.default=o.exports}}]);